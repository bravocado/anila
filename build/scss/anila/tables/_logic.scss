@import "vars";

//
// @mixins
//

@mixin table-color($color: $color-list) {
  @each $i in $color {
    &.#{nth($i, 1)} {
      thead {
        @include yiq-contrasted(nth($i, 2));
      }
      thead, tfoot {
        tr {
          th, td {
            color: inherit;
          }
        }
      }
      &.bordered {
        thead, tfoot, tbody {
          tr {
            th, td {
              border-color: lighten(nth($i, 2), 20%);
            }
          }
        }
      }
      &.stripe {
        tr {
          &.even,
          &.alt,
          &:nth-of-type(even) { background: rgba(nth($i, 2), .2); }
        }    
      }
    }
  }
}

@mixin table {
  background: $table-bg;
  //margin-bottom: $table-margin-bottom;
  @include unit(margin-bottom, $table-margin-bottom);
  border: $table-border-style $table-border-size $table-border-color;
  width: $table-width-default;

  thead,
  tfoot {
    background-color: $table-head-bg;
    font-weight: $table-head-font-weight;

    tr {
      th,
      td {
        @include unit(padding, $table-head-padding);
        @include unit(font-size, $table-head-font-size);
        color: $table-head-font-color;
        text-align: $default-float;
      }
    }
  }

  tr {
    th,
    td {
      //padding: $table-row-padding;
      //font-size: $table-row-font-size;
      @include unit(padding, $table-row-padding);
      @include unit(font-size, $table-row-font-size);
      color: $table-row-font-color;
    }

  }

  thead tr th,
  tfoot tr th,
  tbody tr td,
  tr td,
  tfoot tr td {
    display: $table-display;
    //line-height: $table-line-height;
    @include unit(line-height, $table-line-height);
  }
  
  // types
  &.bordered {
    thead, tfoot, tbody {
      tr {
        th, td {
          border: $table-border-style $table-border-size $table-border-color;
        }
      }
    }
  }
  
  &.stripe {
    tr {
      &.even,
      &.alt,
      &:nth-of-type(even) { background: $table-even-row-bg; }
    }    
  }

  @if $use-table-color {
    @include table-color($color-list);
  }
  
}


@include exports("table") {
  @if $use-table {
    table {
      @include table;
    }
  }
}